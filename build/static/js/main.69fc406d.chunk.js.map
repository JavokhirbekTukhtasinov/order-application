{"version":3,"sources":["components/Cart/CartItem.module.css","components/Shop/ProductItem.module.css","components/UI/Notification.module.css","components/Cart/CartButton.module.css","components/UI/Card.module.css","components/Cart/Cart.module.css","components/Layout/MainHeader.module.css","components/Shop/Products.module.css","store/ui-slice.js","store/cart-slice.js","store/index.js","components/UI/Card.js","components/Cart/CartItem.js","components/Cart/Cart.js","components/Cart/CartButton.js","components/Layout/MainHeader.js","components/Layout/Layout.js","components/Shop/ProductItem.js","components/Shop/Products.js","components/UI/Notification.js","App.js","store/cart-actions.js","index.js"],"names":["module","exports","uiSlice","createSlice","name","initialState","cartIsVisible","notification","reducers","toggle","state","showNotification","action","status","payload","title","message","uiActions","actions","cartSlice","items","totalQuantity","changed","replaceCart","additemToCart","newItem","existItem","find","item","id","quantity","totalPrice","price","push","removeItemFromCart","filter","cartActions","store","configureStore","reducer","ui","cart","Card","props","className","classes","card","children","CartItem","total","dispatch","useDispatch","toFixed","itemprice","details","onClick","Cart","useSelector","map","CartButton","cartQantity","console","log","button","badge","MainHeader","header","Layout","ProductItem","description","newTotalQuantity","updatedItems","slice","existingItem","updatedItem","existingItemIndex","findIndex","newCart","DUMMY_PRODUCTS","Products","products","key","Notification","specialClasses","error","success","cssClasses","isinitial","App","isShowNotification","useEffect","a","fetchData","fetch","response","ok","Error","json","data","cartData","method","body","JSON","stringify","sendCartData","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.69fc406d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"CartItem_item__1ordI\",\"details\":\"CartItem_details__2sSig\",\"quantity\":\"CartItem_quantity__1Qyou\",\"price\":\"CartItem_price__13WP2\",\"itemprice\":\"CartItem_itemprice__3JDHL\",\"actions\":\"CartItem_actions__27vpd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ProductItem_item__3Jepj\",\"price\":\"ProductItem_price__lHgE5\",\"actions\":\"ProductItem_actions__1NSXo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__2fKnp\",\"error\":\"Notification_error__3H17z\",\"success\":\"Notification_success__3uCej\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CartButton_button__3qG2U\",\"badge\":\"CartButton_badge__3o3pb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__zltDj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart\":\"Cart_cart__2xUeR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainHeader_header__26cff\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"products\":\"Products_products__2EwAS\"};","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst uiSlice = createSlice({\r\n\tname         : 'ui',\r\n\tinitialState : { cartIsVisible: false, notification: null },\r\n\treducers     : {\r\n\t\ttoggle(state) {\r\n\t\t\tstate.cartIsVisible = !state.cartIsVisible;\r\n\t\t},\r\n\t\tshowNotification(state, action) {\r\n\t\t\tstate.notification = {\r\n\t\t\t\tstatus  : action.payload.status,\r\n\t\t\t\ttitle   : action.payload.title,\r\n\t\t\t\tmessage : action.payload.message\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n});\r\n\r\nexport const uiActions = uiSlice.actions;\r\nexport default uiSlice;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst cartSlice = createSlice({\r\n\tname         : 'addItem',\r\n\tinitialState : {\r\n\t\titems         : [],\r\n\t\ttotalQuantity : 0,\r\n\t\tchanged       : false\r\n\t},\r\n\treducers     : {\r\n\t\treplaceCart(state, action) {\r\n\t\t\tstate.totalQuantity = action.payload.totalQuantity;\r\n\t\t\tstate.items = action.payload.items;\r\n\t\t},\r\n\r\n\t\tadditemToCart(state, action) {\r\n\t\t\tconst newItem = action.payload;\r\n\t\t\tconst existItem = state.items.find((item) => item.id === newItem.id);\r\n\t\t\tstate.totalQuantity++;\r\n\t\t\tstate.changed = true;\r\n\t\t\tif (!existItem) {\r\n\t\t\t\tstate.items.push({\r\n\t\t\t\t\tid         : newItem.id,\r\n\t\t\t\t\tprice      : newItem.price,\r\n\t\t\t\t\tquantity   : 1,\r\n\t\t\t\t\ttotalPrice : newItem.price,\r\n\t\t\t\t\tname       : newItem.title\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\texistItem.quantity++;\r\n\t\t\t\texistItem.totalPrice = existItem.totalPrice + newItem.price;\r\n\t\t\t}\r\n\t\t},\r\n\t\tremoveItemFromCart(state, action) {\r\n\t\t\tconst id = action.payload;\r\n\t\t\tconst existItem = state.items.find((item) => item.id === id);\r\n\t\t\tstate.totalQuantity--;\r\n\t\t\tstate.changed = true;\r\n\t\t\tif (existItem.quantity === 1) {\r\n\t\t\t\tstate.items = state.items.filter((item) => item.id !== id);\r\n\t\t\t} else {\r\n\t\t\t\texistItem.quantity--;\r\n\t\t\t\texistItem.totalPrice = existItem.quantity * existItem.price;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n\r\nexport const cartActions = cartSlice.actions;\r\nexport default cartSlice;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport uiSlice from './ui-slice';\r\nimport cartSlice from './cart-slice';\r\nconst store = configureStore({\r\n\treducer : { ui: uiSlice.reducer, cart: cartSlice.reducer }\r\n});\r\n\r\nexport default store;\r\n","import classes from './Card.module.css';\n\nconst Card = (props) => {\n  return (\n    <section\n      className={`${classes.card} ${props.className ? props.className : ''}`}\n    >\n      {props.children}\n    </section>\n  );\n};\n\nexport default Card;\n","import classes from './CartItem.module.css';\nimport { useDispatch } from 'react-redux';\nimport { cartActions } from '../../store/cart-slice';\nconst CartItem = (props) => {\n\tconst { id, title, quantity, total, price } = props.item;\n\n\tconst dispatch = useDispatch();\n\tconst additemToCart = () => {\n\t\tdispatch(\n\t\t\tcartActions.additemToCart({\n\t\t\t\ttitle,\n\t\t\t\tquantity,\n\t\t\t\ttotal,\n\t\t\t\tprice,\n\t\t\t\tid\n\t\t\t})\n\t\t);\n\t};\n\tconst revomteItemFromCart = () => {\n\t\tdispatch(cartActions.removeItemFromCart(id));\n\t};\n\n\treturn (\n\t\t<li className={classes.item}>\n\t\t\t<header>\n\t\t\t\t<h3>{title}</h3>\n\t\t\t\t<div className={classes.price}>\n\t\t\t\t\t${total.toFixed(2)} <span className={classes.itemprice}>(${price.toFixed(2)}/item)</span>\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t\t<div className={classes.details}>\n\t\t\t\t<div className={classes.quantity}>\n\t\t\t\t\tx <span>{quantity}</span>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.actions}>\n\t\t\t\t\t<button onClick={revomteItemFromCart}>-</button>\n\t\t\t\t\t<button onClick={additemToCart}>+</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t);\n};\n\nexport default CartItem;\n","import Card from '../UI/Card';\nimport classes from './Cart.module.css';\nimport CartItem from './CartItem';\nimport { useSelector } from 'react-redux';\nconst Cart = (props) => {\n\tconst toggle = useSelector((state) => state.ui.cartIsVisible);\n\tconst items = useSelector((state) => state.cart.items);\n\treturn (\n\t\t<div>\n\t\t\t{toggle && (\n\t\t\t\t<Card className={classes.cart}>\n\t\t\t\t\t<h2>Your Shopping Cart</h2>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{items.map((item) => (\n\t\t\t\t\t\t\t<CartItem\n\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\titem={{\n\t\t\t\t\t\t\t\t\tid       : item.id,\n\t\t\t\t\t\t\t\t\ttitle    : item.name,\n\t\t\t\t\t\t\t\t\tquantity : item.quantity,\n\t\t\t\t\t\t\t\t\ttotal    : item.totalPrice,\n\t\t\t\t\t\t\t\t\tprice    : item.price\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</ul>\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default Cart;\n","import { useDispatch, useSelector } from 'react-redux';\nimport classes from './CartButton.module.css';\nimport { uiActions } from '../../store/ui-slice';\n\nconst CartButton = (props) => {\n\tconst cartQantity = useSelector((state) => state.cart.totalQuantity);\n\tconst dispatch = useDispatch();\n\tconsole.log(cartQantity);\n\tconst toggleHandler = () => {\n\t\tdispatch(uiActions.toggle());\n\t};\n\n\treturn (\n\t\t<button className={classes.button} onClick={toggleHandler}>\n\t\t\t<span>My Cart</span>\n\t\t\t<span className={classes.badge}>{cartQantity}</span>\n\t\t</button>\n\t);\n};\n\nexport default CartButton;\n","import CartButton from '../Cart/CartButton';\nimport classes from './MainHeader.module.css';\n\nconst MainHeader = (props) => {\n\treturn (\n\t\t<header className={classes.header}>\n\t\t\t<h1>ReduxCart</h1>\n\t\t\t<nav>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<CartButton />\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</header>\n\t);\n};\n\nexport default MainHeader;\n","import { Fragment } from 'react';\nimport MainHeader from './MainHeader';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <MainHeader />\n      <main>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;\n","// import Card from '../UI/Card';\n// import classes from './ProductItem.module.css';\n// import { useDispatch } from 'react-redux';\n// import { cartActions } from '../../store/cart-slice';\n// const ProductItem = (props) => {\n// \tconst { id, price, title, description } = props;\n// \tconst dispatch = useDispatch();\n// \tconst addItemHandler = () => {\n// \t\tdispatch(\n// \t\t\tcartActions.additemToCart({\n// \t\t\t\tid,\n// \t\t\t\ttitle,\n// \t\t\t\tprice,\n// \t\t\t\tdescription\n// \t\t\t})\n// \t\t);\n// \t};\n// \treturn (\n// \t\t<li className={classes.item}>\n// \t\t\t<Card>\n// \t\t\t\t<header>\n// \t\t\t\t\t<h3>{title}</h3>\n// \t\t\t\t\t<div className={classes.price}>${price.toFixed(2)}</div>\n// \t\t\t\t</header>\n// \t\t\t\t<p>{description}</p>\n// \t\t\t\t<div className={classes.actions}>\n// \t\t\t\t\t<button onClick={addItemHandler}>Add to Cart</button>\n// \t\t\t\t</div>\n// \t\t\t</Card>\n// \t\t</li>\n// \t);\n// };\n\n// export default ProductItem;\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { cartActions } from '../../store/cart-slice';\nimport Card from '../UI/Card';\nimport classes from './ProductItem.module.css';\n\nconst ProductItem = (props) => {\n\tconst cart = useSelector((state) => state.cart);\n\tconst dispatch = useDispatch();\n\n\tconst { title, price, description, id } = props;\n\n\tconst addToCartHandler = () => {\n\t\tconst newTotalQuantity = cart.totalQuantity + 1;\n\n\t\tconst updatedItems = cart.items.slice(); // create copy via slice to avoid mutating original state\n\t\tconst existingItem = updatedItems.find((item) => item.id === id);\n\t\tif (existingItem) {\n\t\t\tconst updatedItem = { ...existingItem }; // new object + copy existing properties to avoid state mutation\n\t\t\tupdatedItem.quantity++;\n\t\t\tupdatedItem.totalPrice = updatedItem.totalPrice + price;\n\t\t\tconst existingItemIndex = updatedItems.findIndex((item) => item.id === id);\n\t\t\tupdatedItems[existingItemIndex] = updatedItem;\n\t\t} else {\n\t\t\tupdatedItems.push({\n\t\t\t\tid         : id,\n\t\t\t\tprice      : price,\n\t\t\t\tquantity   : 1,\n\t\t\t\ttotalPrice : price,\n\t\t\t\tname       : title\n\t\t\t});\n\t\t}\n\n\t\tconst newCart = {\n\t\t\ttotalQuantity : newTotalQuantity,\n\t\t\titems         : updatedItems\n\t\t};\n\n\t\tdispatch(cartActions.replaceCart(newCart));\n\n\t\t// and then send Http request\n\t\t// fetch('firebase-url', { method: 'POST', body: JSON.stringify(newCart) })\n\n\t\t// dispatch(\n\t\t//   cartActions.addItemToCart({\n\t\t//     id,\n\t\t//     title,\n\t\t//     price,\n\t\t//   })\n\t\t// );\n\t};\n\n\treturn (\n\t\t<li className={classes.item}>\n\t\t\t<Card>\n\t\t\t\t<header>\n\t\t\t\t\t<h3>{title}</h3>\n\t\t\t\t\t<div className={classes.price}>${price.toFixed(2)}</div>\n\t\t\t\t</header>\n\t\t\t\t<p>{description}</p>\n\t\t\t\t<div className={classes.actions}>\n\t\t\t\t\t<button onClick={addToCartHandler}>Add to Cart</button>\n\t\t\t\t</div>\n\t\t\t</Card>\n\t\t</li>\n\t);\n};\n\nexport default ProductItem;\n","import ProductItem from './ProductItem';\nimport classes from './Products.module.css';\n\nconst DUMMY_PRODUCTS = [\n\t{\n\t\tid          : 'p1',\n\t\tprice       : 6,\n\t\ttitle       : 'My firts book ',\n\t\tdescription : 'The first book I ever wrote'\n\t},\n\t{\n\t\tid          : 'p2',\n\t\tprice       : 9,\n\t\ttitle       : 'My second book ',\n\t\tdescription : 'The second book I ever wrote'\n\t}\n];\nconst Products = (props) => {\n\treturn (\n\t\t<section className={classes.products}>\n\t\t\t<h2>Buy your favorite products</h2>\n\t\t\t<ul>\n\t\t\t\t{DUMMY_PRODUCTS.map((products) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ProductItem\n\t\t\t\t\t\t\tkey={products.key}\n\t\t\t\t\t\t\tid={products.id}\n\t\t\t\t\t\t\ttitle={products.title}\n\t\t\t\t\t\t\tprice={products.price}\n\t\t\t\t\t\t\tdescription={products.description}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t</section>\n\t);\n};\n\nexport default Products;\n","import classes from './Notification.module.css';\r\n\r\nconst Notification = (props) => {\r\n\tlet specialClasses = '';\r\n\r\n\tif (props.status === 'error') {\r\n\t\tspecialClasses = classes.error;\r\n\t}\r\n\tif (props.status === 'success') {\r\n\t\tspecialClasses = classes.success;\r\n\t}\r\n\r\n\tconst cssClasses = `${classes.notification} ${specialClasses}`;\r\n\r\n\treturn (\r\n\t\t<section className={cssClasses}>\r\n\t\t\t<h2>{props.title}</h2>\r\n\t\t\t<p>{props.message}</p>\r\n\t\t</section>\r\n\t);\r\n};\r\n\r\nexport default Notification;\r\n","import Cart from './components/Cart/Cart';\nimport Layout from './components/Layout/Layout';\nimport Products from './components/Shop/Products';\nimport { Fragment, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { uiActions } from './store/ui-slice';\nimport Notification from './components/UI/Notification';\nimport { fetchCartData } from './store/cart-actions';\nlet isinitial = true;\nfunction App() {\n\tconst dispatch = useDispatch();\n\tconst cart = useSelector((state) => state.cart);\n\tconst isShowNotification = useSelector((state) => state.ui.notification);\n\tconsole.log(isShowNotification);\n\n\t//UseEffect for fetching cart data\n\tuseEffect(\n\t\t() => {\n\t\t\tdispatch(fetchCartData());\n\t\t},\n\t\t[ dispatch ]\n\t);\n\n\t//UseEffect for sending cart data\n\tuseEffect(\n\t\t() => {\n\t\t\tif (!isShowNotification === null) {\n\t\t\t\tdispatch(\n\t\t\t\t\tuiActions.showNotification({\n\t\t\t\t\t\tstatus  : 'pending',\n\t\t\t\t\t\ttitle   : 'Sending',\n\t\t\t\t\t\tmessage : 'Sending cart data!'\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst sendCartData = async () => {\n\t\t\t\tconst response = await fetch('https://food-order-app-6155e-default-rtdb.firebaseio.com/cart.json', {\n\t\t\t\t\tmethod : 'PUT',\n\t\t\t\t\tbody   : JSON.stringify(cart)\n\t\t\t\t});\n\t\t\t\tif (!response.ok) {\n\t\t\t\t\tthrow new Error('Sending cart data failed');\n\t\t\t\t}\n\n\t\t\t\tdispatch(\n\t\t\t\t\tuiActions.showNotification({\n\t\t\t\t\t\tstatus  : 'success',\n\t\t\t\t\t\ttitle   : 'Success',\n\t\t\t\t\t\tmessage : 'Sending cart data successfully!'\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t};\n\n\t\t\tif (isinitial) {\n\t\t\t\tisinitial = false;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsendCartData().catch((error) => {\n\t\t\t\tdispatch(\n\t\t\t\t\tuiActions.showNotification({\n\t\t\t\t\t\tstatus  : 'error',\n\t\t\t\t\t\ttitle   : 'Error',\n\t\t\t\t\t\tmessage : 'Sending cart data failed!'\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t});\n\t\t},\n\t\t[ cart, dispatch, isShowNotification ]\n\t);\n\treturn (\n\t\t<Fragment>\n\t\t\t{isShowNotification && (\n\t\t\t\t<Notification\n\t\t\t\t\tstatus={isShowNotification.status}\n\t\t\t\t\ttitle={isShowNotification.title}\n\t\t\t\t\tmessage={isShowNotification.message}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<Layout>\n\t\t\t\t<Cart />\n\t\t\t\t<Products />\n\t\t\t</Layout>\n\t\t</Fragment>\n\t);\n}\n\nexport default App;\n","// import { useDispatch } from 'react-redux';\r\n// import { uiActions } from './ui-slice';\r\n// import { cartActions } from './cart-slice';\r\n// export const fetchCartData = async () => {\r\n// \treturn async (dispatch) => {\r\n// \t\tconst fetchData = async () => {\r\n// \t\t\tconst response = await fetch('https://food-order-app-6155e-default-rtdb.firebaseio.com/cart.json');\r\n// \t\t\tif (!response.ok) {\r\n// \t\t\t\tthrow new Error('Counld not fetch cart data!');\r\n// \t\t\t}\r\n// \t\t\tconst data = await response.json();\r\n// \t\t\treturn data;\r\n// \t\t};\r\n\r\n// \t\ttry {\r\n// \t\t\tconst cartData = await fetchData();\r\n// \t\t\tdispatch(cartActions.replaceCart(cartData));\r\n// \t\t} catch (error) {\r\n// \t\t\tdispatch(\r\n// \t\t\t\tuiActions.showNotification({\r\n// \t\t\t\t\tstatus  : 'error',\r\n// \t\t\t\t\ttitle   : 'Error',\r\n// \t\t\t\t\tmessage : 'Sending cart data failed!'\r\n// \t\t\t\t})\r\n// \t\t\t);\r\n// \t\t}\r\n// \t};\r\n// };\r\n\r\nimport { uiActions } from './ui-slice';\r\nimport { cartActions } from './cart-slice';\r\n\r\nexport const fetchCartData = () => {\r\n\treturn async (dispatch) => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tconst response = await fetch('https://food-order-app-6155e-default-rtdb.firebaseio.com/cart.json');\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error('Could not fetch cart data!');\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\treturn data;\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst cartData = await fetchData();\r\n\t\t\tdispatch(\r\n\t\t\t\tcartActions.replaceCart({\r\n\t\t\t\t\titems         : cartData.items || [],\r\n\t\t\t\t\ttotalQuantity : cartData.totalQuantity\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tdispatch(\r\n\t\t\t\tuiActions.showNotification({\r\n\t\t\t\t\tstatus  : 'error',\r\n\t\t\t\t\ttitle   : 'Error!',\r\n\t\t\t\t\tmessage : 'Fetching cart data failed!'\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n};\r\n","import ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport store from './store/index';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}